<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trust Wallet dApp</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/4.0.3/web3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/@walletconnect/web3-provider/1.7.8/web3-provider.min.js"></script>
</head>
<body>

    <h1>Trust Wallet Connection</h1>
    
    <!-- Connect Button -->
    <button id="connectButton">Connect Wallet</button>
    
    <!-- Display Wallet Address -->
    <p id="walletAddress">Not Connected</p>

    <script>
        const connectButton = document.getElementById("connectButton");
        const walletAddressDisplay = document.getElementById("walletAddress");

        async function connectWallet() {
            try {
                // Create WalletConnect provider
                const provider = new WalletConnectProvider.default({
                    rpc: {
                        1: "https://mainnet.infura.io/v3/YOUR_INFURA_API_KEY" // Replace with your RPC URL
                    }
                });

                // Enable the provider (open QR code scanner)
                await provider.enable();

                // Create Web3 instance
                const web3 = new Web3(provider);

                // Get connected accounts
                const accounts = await web3.eth.getAccounts();
                const walletAddress = accounts[0];

                // Display the wallet address
                walletAddressDisplay.textContent = `Connected: ${walletAddress}`;

            } catch (error) {
                console.error("Wallet connection failed:", error);
                alert("Failed to connect wallet. Try again.");
            }
        }

        // Attach event listener to button
        connectButton.addEventListener("click", connectWallet);
    </script>

</body>
</html>
